"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MemoryStorage = void 0;
const base_1 = require("./base");
class MemoryStorage extends base_1.BaseStorage {
    constructor(prefix = '') {
        super();
        this.values = {};
        this.prefix = prefix;
    }
    get(key) {
        const k = this.key(key);
        if (k in this.values) {
            return this.values[k];
        }
        return null;
    }
    set(key, value) {
        this.values[this.key(key)] = value;
        return value;
    }
    delete(key) {
        const k = this.key(key);
        const value = this.get(key);
        if (k in this.values) {
            delete this.values[k];
        }
        return value;
    }
    key(name) {
        return `${this.prefix}${name}`;
    }
}
exports.MemoryStorage = MemoryStorage;
